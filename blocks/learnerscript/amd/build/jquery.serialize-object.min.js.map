{"version":3,"sources":["../src/jquery.serialize-object.js"],"names":["root","factory","define","amd","exports","$","require","jQuery","Zepto","ender","patterns","validate","key","push","fixed","named","FormSerializer","helper","$form","data","pushes","build","base","value","makeObject","keys","match","k","pop","test","idx","incrementPush","replace","encode","pair","name","attr","addPair","obj","extend","serialize","addPairs","pairs","isArray","Error","i","len","length","serializeJSON","JSON","stringify","serializeObject","serializeArray","fn"],"mappings":"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","sourcesContent":["/**\r\n * jQuery serializeObject\r\n * @copyright 2014, macek <paulmacek@gmail.com>\r\n * @link https://github.com/macek/jquery-serialize-object\r\n * @license BSD\r\n * @version 2.5.0\r\n */\r\n(function(root, factory) {\r\n\r\n  // AMD\r\n  if (typeof define === \"function\" && define.amd) {\r\n    define([\"exports\", \"jquery\"], function(exports, $) {\r\n      return factory(exports, $);\r\n    });\r\n  }\r\n\r\n  // CommonJS\r\n  else if (typeof exports !== \"undefined\") {\r\n    var $ = require(\"jquery\");\r\n    factory(exports, $);\r\n  }\r\n\r\n  // Browser\r\n  else {\r\n    factory(root, (root.jQuery || root.Zepto || root.ender || root.$));\r\n  }\r\n\r\n}(this, function(exports, $) {\r\n\r\n  var patterns = {\r\n    validate: /^[a-z_][a-z0-9_]*(?:\\[(?:\\d*|[a-z0-9_]+)\\])*$/i,\r\n    key:      /[a-z0-9_]+|(?=\\[\\])/gi,\r\n    push:     /^$/,\r\n    fixed:    /^\\d+$/,\r\n    named:    /^[a-z0-9_]+$/i\r\n  };\r\n\r\n  function FormSerializer(helper, $form) {\r\n\r\n    // private variables\r\n    var data     = {},\r\n        pushes   = {};\r\n\r\n    // private API\r\n    function build(base, key, value) {\r\n      base[key] = value;\r\n      return base;\r\n    }\r\n\r\n    function makeObject(root, value) {\r\n\r\n      var keys = root.match(patterns.key), k;\r\n\r\n      // nest, nest, ..., nest\r\n      while ((k = keys.pop()) !== undefined) {\r\n        // foo[]\r\n        if (patterns.push.test(k)) {\r\n          var idx = incrementPush(root.replace(/\\[\\]$/, ''));\r\n          value = build([], idx, value);\r\n        }\r\n\r\n        // foo[n]\r\n        else if (patterns.fixed.test(k)) {\r\n          value = build([], k, value);\r\n        }\r\n\r\n        // foo; foo[bar]\r\n        else if (patterns.named.test(k)) {\r\n          value = build({}, k, value);\r\n        }\r\n      }\r\n\r\n      return value;\r\n    }\r\n\r\n    function incrementPush(key) {\r\n      if (pushes[key] === undefined) {\r\n        pushes[key] = 0;\r\n      }\r\n      return pushes[key]++;\r\n    }\r\n\r\n    function encode(pair) {\r\n      switch ($('[name=\"' + pair.name + '\"]', $form).attr(\"type\")) {\r\n        case \"checkbox\":\r\n          return pair.value === \"on\" ? true : pair.value;\r\n        default:\r\n          return pair.value;\r\n      }\r\n    }\r\n\r\n    function addPair(pair) {\r\n      if (!patterns.validate.test(pair.name)) return this;\r\n      var obj = makeObject(pair.name, encode(pair));\r\n      data = helper.extend(true, data, obj);\r\n      return this;\r\n    }\r\n\r\n    function addPairs(pairs) {\r\n      if (!helper.isArray(pairs)) {\r\n        throw new Error(\"formSerializer.addPairs expects an Array\");\r\n      }\r\n      for (var i=0, len=pairs.length; i<len; i++) {\r\n        this.addPair(pairs[i]);\r\n      }\r\n      return this;\r\n    }\r\n\r\n    function serialize() {\r\n      return data;\r\n    }\r\n\r\n    function serializeJSON() {\r\n      return JSON.stringify(serialize());\r\n    }\r\n\r\n    // public API\r\n    this.addPair = addPair;\r\n    this.addPairs = addPairs;\r\n    this.serialize = serialize;\r\n    this.serializeJSON = serializeJSON;\r\n  }\r\n\r\n  FormSerializer.patterns = patterns;\r\n\r\n  FormSerializer.serializeObject = function serializeObject() {\r\n    return new FormSerializer($, this).\r\n      addPairs(this.serializeArray()).\r\n      serialize();\r\n  };\r\n\r\n  FormSerializer.serializeJSON = function serializeJSON() {\r\n    return new FormSerializer($, this).\r\n      addPairs(this.serializeArray()).\r\n      serializeJSON();\r\n  };\r\n\r\n  if (typeof $.fn !== \"undefined\") {\r\n    $.fn.serializeObject = FormSerializer.serializeObject;\r\n    $.fn.serializeJSON   = FormSerializer.serializeJSON;\r\n  }\r\n\r\n  exports.FormSerializer = FormSerializer;\r\n\r\n  return FormSerializer;\r\n}));\r\n"],"file":"jquery.serialize-object.min.js"}