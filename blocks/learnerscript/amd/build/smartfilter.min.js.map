{"version":3,"file":"smartfilter.min.js","sources":["../src/smartfilter.js"],"sourcesContent":["define(['jquery',\r\n        'block_learnerscript/ajax',\r\n        'block_learnerscript/reportwidget',\r\n        'block_learnerscript/report',\r\n        'block_learnerscript/flatpickr',\r\n        'core/str',\r\n        'block_learnerscript/jquery.serialize-object'],\r\n    function($, ajax, reportwidget, report, flatpickr, str) {\r\n        var BasicparamCourse = $('.basicparamsform #id_filter_courses');\r\n        var BasicparamUser = $('.basicparamsform #id_filter_users');\r\n        var BasicparamActivity = $('.basicparamsform #id_filter_activities');\r\n\r\n        var FilterCourse = $('.filterform #id_filter_courses');\r\n        var FilterUser = $('.filterform #id_filter_users');\r\n        var FilterActivity = $('.filterform #id_filter_activities');\r\n\r\n        var selectduration = $('.durationfilter');\r\n        var reportcontenttype = $('.reportcontenttype');\r\n\r\n        return smartfilter = {\r\n            SelectDuration: function() {\r\n                var self=this;\r\n                selectduration.on('click', function(e){\r\n                    e.stopImmediatePropagation();\r\n                    var instanceid = $(this).data('blockinstance');\r\n                    var reportid = $(this).data('reportid');\r\n                    var reporttype = $(this).data('reporttype');\r\n                    var duration = $(this).data('duration');\r\n                    self.DurationFilter(duration,'true',reportid,instanceid, reporttype);\r\n                   if($('#reportcontainer'+instanceid).html().length > 0 ){\r\n                        $('#plotreportcontainer'+instanceid).data('reporttype',reporttype);\r\n                    }else{\r\n                        $('#reportcontainer'+instanceid).data('reporttype',reporttype);\r\n                    }\r\n                    $('#datefilter'+instanceid).trigger('click');\r\n\r\n                });\r\n            },\r\n            ReportContenttypes: function() {\r\n                var self=this;\r\n                reportcontenttype.on('click', function(e){\r\n                    e.stopImmediatePropagation();\r\n                    $('.navbar-collapse').collapse('hide');\r\n                    var instanceid = $(this).data('blockinstance');\r\n                    var reportid = $(this).data('reportid');\r\n                    var reporttype = $(this).data('reporttype');\r\n                    require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                    reportwidget.CreateDashboardwidget({reporttype: reporttype, container:'#reporttype_'+instanceid,\r\n                                                    reportid:reportid, instanceid:instanceid,reportdashboard:1,\r\n                                                    selectreport: true});\r\n                });\r\n                    if($('#reportcontainer'+instanceid).html().length > 0 ){\r\n                        $('#plotreportcontainer'+instanceid).data('reporttype',reporttype);\r\n                    }else{\r\n                        $('#reportcontainer'+instanceid).data('reporttype',reporttype);\r\n                    }\r\n                    $('#reportcontenttypes'+instanceid).trigger('click');\r\n                });\r\n            },\r\n            DurationFilter: function(value, reportdashboard, report1id=null, instanceid=null, reportcontenttype=null) {\r\n                var today = new Date();\r\n                var endDate = today.getFullYear() + \"/\" + (today.getMonth() + 1) + \"/\" + today.getDate();\r\n                var start_duration = '';\r\n                if (reportdashboard == false) {\r\n                    instanceid = '';\r\n                }\r\n                if (value !== 'clear') {\r\n                    $('#ls_fenddate'+instanceid).val(today.getTime() / 1000);\r\n                    switch (value) {\r\n                        case 'week':\r\n                            start_duration = new Date(today.getFullYear(), today.getMonth(), today.getDate() - 7);\r\n                            break;\r\n                        case 'month':\r\n                            start_duration = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());\r\n                            break;\r\n                        case 'year':\r\n                            start_duration = new Date(today.getFullYear() - 1, today.getMonth(), today.getDate());\r\n                            break;\r\n                        case 'custom':\r\n                            var reportid = $('input[name=\"reportid\"]').val();\r\n                            $('#customrange'+instanceid).show();\r\n                            /**\r\n                            * Duration Filter\r\n                            */\r\n                            flatpickr('#customrange'+instanceid,{\r\n                                mode: 'range',\r\n                                onOpen: function(selectedDates, dateStr,instance){\r\n                                    instance.clear();\r\n                                },\r\n                                onClose: function(selectedDates, dateStr, instance) {\r\n                                    $('#ls_fstartdate'+instanceid).val(selectedDates[0].getTime() / 1000);\r\n                                    $('#ls_fenddate'+instanceid).val((selectedDates[1].getTime() / 1000) + (60 * 60 * 24));\r\n                                    if (reportdashboard == false) {\r\n                                        require(['block_learnerscript/report'], function(report) {\r\n                                            report.CreateReportPage({ reportid: reportid, instanceid: instanceid, reportdashboard: reportdashboard });\r\n                                        });\r\n                                    } else {\r\n                                        require(['block_learnerscript/report'], function(report) {\r\n                                            report.CreateReportPage({ reportid: report1id, instanceid: instanceid, reportdashboard: reportdashboard });\r\n                                        });\r\n                                    }\r\n                                  \r\n                                    $(\"#durtiontext\"+instanceid).text(dateStr);\r\n                                \r\n                            }\r\n                        });\r\n                            break;\r\n                        default:\r\n                            $('#ls_fstartdate'+instanceid).val(0);\r\n                            break;\r\n                    }\r\n                    if (start_duration != '') {\r\n                        $('#ls_fstartdate'+instanceid).val(start_duration.getTime() / 1000);\r\n                    }\r\n                } else {\r\n                    $('#ls_fenddate'+instanceid).val(\"\");\r\n                    $('#ls_fstartdate'+instanceid).val(\"\");\r\n                }\r\n                if (value !== 'custom') {\r\n                    if (reportdashboard != false) {\r\n                        require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                               reportwidget.CreateDashboardwidget({\r\n                                reportid: report1id,\r\n                                reporttype: reportcontenttype,\r\n                                instanceid: instanceid\r\n                            });\r\n                        });\r\n                        str.get_string(value, 'block_reportdashboard').then(function(s) {\r\n                            $(\"#durtiontext\"+instanceid).text(s);\r\n                        });\r\n                        \r\n                    } else {\r\n                        var reportid = $('input[name=\"reportid\"]').val();\r\n                        require(['block_learnerscript/report'], function(report) {\r\n                            report.CreateReportPage({ reportid: reportid, instanceid: reportid, reportdashboard: reportdashboard });\r\n                        });\r\n                    }\r\n                    $('#customrange'+instanceid).val(\"\");\r\n                    $('#customrange'+instanceid).hide();\r\n                }\r\n                if (reportdashboard != true) {\r\n                    var reportid = $('input[name=\"reportid\"]').val();\r\n                    $('.plotgraphcontainer').removeClass('show').addClass('hide');\r\n                    $('#plotreportcontainer' + reportid).html('');\r\n                }\r\n\r\n            },\r\n            /**\r\n             * [FilterData description]\r\n             * @param {[type]} args [description]\r\n             */\r\n            FilterData: function(reportinstance) {\r\n                var reportfilter = $(\".filterform\" + reportinstance).serializeObject();\r\n                 $.urlParam = function(name){\r\n                    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\r\n                    if (results === null || results == ' ' ){\r\n                       return null;\r\n                    } else{\r\n                       return results[1] || 0;\r\n                    }\r\n                }\r\n                var dashboardurl=$.urlParam('dashboardurl');\r\n                if(dashboardurl == 'Course'){\r\n                    var filter_courseid = $(\".report_courses\").val();\r\n                    reportfilter.filter_courses = filter_courseid;\r\n                }\r\n                return reportfilter;\r\n            },\r\n            BasicparamsData: function(reportinstance) {\r\n                var basicparams = $(\".basicparamsform\" + reportinstance).serializeObject();\r\n                return basicparams;\r\n            },\r\n            CourseData: function(args) {\r\n                var FirstElementActive = false;\r\n                if (BasicparamActivity.length > 0 || FilterActivity.length > 0) {\r\n                    if (BasicparamActivity.length > 0) {\r\n                        FirstElementActive = true;\r\n                    }\r\n                    if (args.courseid > 0) {\r\n                        this.CourseActivities({ courseid: args.courseid, firstelementactive: FirstElementActive, activityid: args.filterrequests.filter_activities });\r\n                    }\r\n                }\r\n                if (BasicparamUser.length > 0 || FilterUser.length > 0) {\r\n                    if (BasicparamUser.length > 0) {\r\n                        FirstElementActive = true;\r\n                    }\r\n                    // if (args.courseid > 0) {\r\n                        // this.EnrolledUsers({\r\n                        //     courseid: args.courseid,\r\n                        //     reportid: args.reportid,\r\n                        //     reporttype: args.reporttype,\r\n                        //     components: args.components,\r\n                        //     firstelementactive: FirstElementActive\r\n                        // });\r\n                    // }\r\n                }\r\n            },\r\n           categoryCourses: function(args) {\r\n            var currentcategory = $('#id_filter_coursecategories').find(\":selected\").val();\r\n            if (currentcategory > 0) {\r\n                var promise = ajax.call({\r\n                    args: {\r\n                        action: 'categorycourses',\r\n                        basicparam: true,\r\n                        reporttype: args.reporttype,\r\n                        categoryid: args.categoryid\r\n                    },\r\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\r\n                });\r\n                promise.done(function(response) {\r\n                    var template = '';\r\n                    $.each(response, function(key, value) {\r\n                        template += '<option value = ' + key + '>' + value + '</option>';\r\n                    });\r\n                    $(\"#id_filter_courses\").html(template);\r\n                });\r\n            }\r\n        },\r\n        CourseActivities: function(args) {\r\n            var nearelement = args.element || $('#id_filter_activities');\r\n            activityid = parseInt(args.activityid) || 0;\r\n            var currentactivity = nearelement.val();\r\n            nearelement.find('option')\r\n                .remove()\r\n                .end()\r\n                .append('<option value=0>Select Activity</option>');\r\n            if (args.courseid >= 0) {\r\n                var promise = ajax.call({\r\n                    args: {\r\n                        action: 'courseactivities',\r\n                        basicparam: true,\r\n                        courseid: args.courseid\r\n                    },\r\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\r\n                });\r\n                promise.done(function(response) {\r\n                    $.each(response, function(key, value) {\r\n                        key = parseInt(key);\r\n                        if(key == 0){\r\n                            return true;\r\n                        }\r\n                        // (key != currentactivity && key != 0)\r\n                        if (key != activityid) {\r\n                            nearelement.append($(\"<option></option>\")\r\n                                .attr(\"value\", key)\r\n                                .text(value));\r\n                        } else {\r\n                            nearelement.append($(\"<option></option>\")\r\n                                .attr(\"value\", key)\r\n                                .attr('selected', 'selected')\r\n                                .text(value));\r\n                        }\r\n                    });\r\n                    var currentactivity = $('.basicparamsform #id_filter_activities').find(\":selected\").val();\r\n                    if (currentactivity == 0 || currentactivity == null) {\r\n                        $('.basicparamsform #id_filter_activities').val($('.basicparamsform #id_filter_activities option:eq(1)').val());\r\n                    }\r\n                    var basicparamactivtylen = nearelement.parents('.basicparamsform').length;\r\n                    if (basicparamactivtylen > 0 && args.onloadtrigger) {\r\n                        $(\".basicparamsform #id_filter_apply\").trigger('click');\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        UserCourses: function(args) {\r\n            var currentcourse = $('#id_filter_courses').find(\":selected\").val();\r\n            $('#id_filter_courses').find('option')\r\n                .remove()\r\n                .end()\r\n                .append('<option value=\"\">Select Course</option>');\r\n            if (args.userid >= 0) {\r\n                var promise = ajax.call({\r\n                    args: {\r\n                        action: 'usercourses',\r\n                        basicparam: true,\r\n                        userid: args.userid,\r\n                        reporttype: args.reporttype,\r\n                        reportid: args.reportid\r\n                    },\r\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\r\n                });\r\n                promise.done(function(response) {\r\n                    $.each(response, function(key, value) {\r\n                        if(key == 0){\r\n                            return true;\r\n                        }\r\n                        if ((key == Object.keys(response)[0] && args.firstelementactive == 1) ||\r\n                                (key == currentcourse && args.firstelementactive == 1)) {\r\n                            $('#id_filter_courses').append($(\"<option></option>\")\r\n                                .attr(\"value\", key)\r\n                                .attr('selected', 'selected')\r\n                                .text(value));\r\n                            if(typeof args.triggercourseactivities != 'undefined' && args.triggercourseactivities == true){\r\n                                smartfilter.CourseActivities({ courseid: key });\r\n                            }\r\n                        } else {\r\n                            $('#id_filter_courses').append($(\"<option></option>\")\r\n                                .attr(\"value\", key)\r\n                                .text(value));\r\n                        }\r\n                    });\r\n\r\n                });\r\n            }\r\n        },\r\n        EnrolledUsers: function(args) {\r\n            var nearelement = args.element || $('#id_filter_users');\r\n            var currentuser = nearelement.val();\r\n            nearelement.find('option')\r\n                .remove()\r\n                .end()\r\n                .append('<option value=\"\">Select User</option>');\r\n                var promise = ajax.call({\r\n                    args: {\r\n                        action: 'enrolledusers',\r\n                        basicparam: true,\r\n                        reportid: args.reportid,\r\n                        courseid: args.courseid,\r\n                        reporttype: args.reporttype,\r\n                        component: args.components\r\n                    },\r\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\r\n                });\r\n                promise.done(function(response) {\r\n                    // if (typeof nearelement == 'undefined') {\r\n                    //     nearelement.find('option')\r\n                    //         .not(':eq(0), :selected')\r\n                    //         .remove()\r\n                    //         .end();\r\n                    // }\r\n                    $.each(response, function(key, value) {\r\n                        if(key == 0){\r\n                            return true;\r\n                        }\r\n                        if (key != currentuser) {\r\n                            nearelement.append($(\"<option></option>\")\r\n                                .attr(\"value\", key)\r\n                                .text(value));\r\n                        } else {\r\n                            nearelement.append($(\"<option></option>\")\r\n                                .attr(\"value\", key)\r\n                                .attr('selected', 'selected')\r\n                                .text(value));\r\n                        }\r\n                    });\r\n                    if (!response.hasOwnProperty(currentuser)) {\r\n                        // nearelement.select2('destroy').select2({ theme: 'classic' });\r\n                        // nearelement.select2('val', 0);\r\n                    } else {\r\n                        nearelement.select2('val', \"\");\r\n                        var basicparamuserlen = nearelement.parents('.basicparamsform').length;\r\n                        if (basicparamuserlen > 0 && args.onloadtrigger) {\r\n                            $(\".basicparamsform #id_filter_apply\").trigger('click');\r\n                        }\r\n                    }\r\n                });\r\n\r\n        },\r\n        CohortUsers: function(args) {\r\n            var currentcohort = $('#id_filter_cohort').find(\":selected\").val();\r\n            if (currentcohort > 0) {\r\n                var promise = ajax.call({\r\n                    args: {\r\n                        action: 'cohortusers',\r\n                        basicparam: true,\r\n                        reporttype: args.reporttype,\r\n                        categoryid: args.cohortid\r\n                    },\r\n                    url: M.cfg.wwwroot + \"/blocks/learnerscript/ajax.php\",\r\n                });\r\n                promise.done(function(response) {\r\n                    var template = '';\r\n                    $.each(response, function(key, value) {\r\n                        template += '<option value = ' + key + '>' + value + '</option>';\r\n                    });\r\n                    $(\"#id_filter_users\").html(template);\r\n                });\r\n            }\r\n        }\r\n        }\r\n    });\r\n"],"names":["define","$","ajax","reportwidget","report","flatpickr","str","BasicparamUser","BasicparamActivity","FilterUser","FilterActivity","selectduration","reportcontenttype","smartfilter","SelectDuration","self","this","on","e","stopImmediatePropagation","instanceid","data","reportid","reporttype","duration","DurationFilter","html","length","trigger","ReportContenttypes","collapse","require","CreateDashboardwidget","container","reportdashboard","selectreport","value","report1id","today","Date","start_duration","getFullYear","getMonth","getDate","val","getTime","show","mode","onOpen","selectedDates","dateStr","instance","clear","onClose","CreateReportPage","text","get_string","then","s","hide","removeClass","addClass","FilterData","reportinstance","reportfilter","serializeObject","urlParam","name","results","RegExp","exec","window","location","href","filter_courseid","filter_courses","BasicparamsData","CourseData","args","FirstElementActive","courseid","CourseActivities","firstelementactive","activityid","filterrequests","filter_activities","categoryCourses","find","call","action","basicparam","categoryid","url","M","cfg","wwwroot","done","response","template","each","key","nearelement","element","parseInt","remove","end","append","attr","currentactivity","parents","onloadtrigger","UserCourses","currentcourse","userid","Object","keys","triggercourseactivities","EnrolledUsers","currentuser","component","components","hasOwnProperty","select2","CohortUsers","cohortid"],"mappings":"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"}