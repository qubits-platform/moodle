(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[830],{24511:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Assignment",function(){return t(90720)}])},90720:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nl}});var s=t(828),i=t(85893),a=t(67294),r=t(11163),o=t(83321),c=t(31536),d=t(25935),l=t(41799),u=t(69396),m=t(96391),f=t(77493),g=t(57645),p=t(99534),x=t(7297);t(73935);var h=t(18872);function b(){var n=(0,x.Z)(["\n          cursor: pointer;\n          color: ",";\n        "]);return b=function(){return n},n}function j(){var n=(0,x.Z)(["\n        font-size: 18px;\n        vertical-align: text-bottom;\n      "]);return j=function(){return n},n}function v(){var n=(0,x.Z)(["\n        & > * {\n          display: inline-block;\n        }\n\n        & > * + * {\n          margin-left: 15px;\n        }\n      "]);return v=function(){return n},n}function S(){var n=(0,x.Z)(["\n        position: relative;\n        padding: 1px 18px 17px;\n        margin: 0 -20px;\n        border-bottom: 2px solid #eee;\n        margin-bottom: 20px;\n      "]);return S=function(){return n},n}var Z=a.forwardRef(function(n,e){var t=n.className,s=n.active,a=n.reversed,r=(0,p.Z)(n,["className","active","reversed"]);return(0,i.jsx)("span",(0,u.Z)((0,l.Z)({},r),{ref:e,className:(0,h.cx)(t,(0,h.iv)(b(),a?s?"white":"#aaa":s?"black":"#ccc"))}))}),_=a.forwardRef(function(n,e){var t=n.className,s=(0,p.Z)(n,["className"]);return(0,i.jsx)("span",(0,u.Z)((0,l.Z)({},s),{ref:e,className:(0,h.cx)("material-icons",t,(0,h.iv)(j()))}))}),y=a.forwardRef(function(n,e){var t=n.className,s=(0,p.Z)(n,["className"]);return(0,i.jsx)("div",(0,u.Z)((0,l.Z)({},s),{"data-test-id":"menu",ref:e,className:(0,h.cx)(t,(0,h.iv)(v()))}))}),w=a.forwardRef(function(n,e){var t=n.className,s=(0,p.Z)(n,["className"]);return(0,i.jsx)(y,(0,u.Z)((0,l.Z)({},s),{ref:e,className:(0,h.cx)(t,(0,h.iv)(S()))}))}),k=["numbered-list","bulleted-list"],N=["left","center","right","justify"],C=function(n,e){var t,s=D(n,e,N.includes(e)?"align":"type"),i=k.includes(e);f.YR.unwrapNodes(n,{match:function(n){return!f.ML.isEditor(n)&&f.W_.isElement(n)&&k.includes(n.type)&&!N.includes(e)},split:!0}),t=N.includes(e)?{align:s?void 0:e}:{type:s?"paragraph":i?"list-item":e},f.YR.setNodes(n,t),!s&&i&&f.YR.wrapNodes(n,{type:e,children:[]})},T=function(n,e){R(n,e)?f.ML.removeMark(n,e):f.ML.addMark(n,e,!0)},D=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type",i=n.selection;return!!i&&!!(0,s.Z)(Array.from(f.ML.nodes(n,{at:f.ML.unhangRange(n,i),match:function(n){return!f.ML.isEditor(n)&&f.W_.isElement(n)&&n[t]===e}})),1)[0]},R=function(n,e){var t=f.ML.marks(n);return!!t&&!0===t[e]},E=function(n){var e=n.attributes,t=n.children,s=n.element,a={textAlign:s.align};switch(s.type){case"block-quote":return(0,i.jsx)("blockquote",(0,u.Z)((0,l.Z)({style:a},e),{children:t}));case"bulleted-list":return(0,i.jsx)("ul",(0,u.Z)((0,l.Z)({style:a},e),{children:t}));case"heading-one":return(0,i.jsx)("h1",(0,u.Z)((0,l.Z)({style:a},e),{children:t}));case"heading-two":return(0,i.jsx)("h2",(0,u.Z)((0,l.Z)({style:a},e),{children:t}));case"list-item":return(0,i.jsx)("li",(0,u.Z)((0,l.Z)({style:a},e),{children:t}));case"numbered-list":return(0,i.jsx)("ol",(0,u.Z)((0,l.Z)({style:a},e),{children:t}));default:return(0,i.jsx)("p",(0,u.Z)((0,l.Z)({style:a},e),{children:t}))}},O=function(n){var e=n.attributes,t=n.children,s=n.leaf;return s.bold&&(t=(0,i.jsx)("strong",{children:t})),s.code&&(t=(0,i.jsx)("code",{children:t})),s.italic&&(t=(0,i.jsx)("em",{children:t})),s.underline&&(t=(0,i.jsx)("u",{children:t})),(0,i.jsx)("span",(0,u.Z)((0,l.Z)({},e),{children:t}))},q=function(n){var e=n.format,t=n.icon,s=(0,m.ui)();return(0,i.jsx)(Z,{active:D(s,e,N.includes(e)?"align":"type"),onMouseDown:function(n){n.preventDefault(),C(s,e)},children:(0,i.jsx)(_,{children:t})})},F=function(n){var e=n.format,t=n.icon,s=(0,m.ui)();return(0,i.jsx)(Z,{active:R(s,e),onMouseDown:function(n){n.preventDefault(),T(s,e)},children:(0,i.jsx)(_,{children:t})})},P=function(n){var e=n.onlinetext,t=n.setOnlineText,r=(0,a.useCallback)(function(n){return(0,i.jsx)(E,(0,l.Z)({},n))},[]),o=(0,a.useCallback)(function(n){return(0,i.jsx)(O,(0,l.Z)({},n))},[]),c=(0,a.useMemo)(function(){return(0,g.VC)((0,m.BU)((0,f.Jh)()))},[]),d=(0,s.Z)((0,a.useState)(JSON.parse(e)),2),u=d[0],p=d[1];return(0,i.jsxs)(m.mH,{editor:c,initialValue:u,onChange:function(n){p(n),t(n)},children:[(0,i.jsxs)(w,{children:[(0,i.jsx)(F,{format:"bold",icon:"format_bold"}),(0,i.jsx)(F,{format:"italic",icon:"format_italic"}),(0,i.jsx)(F,{format:"underline",icon:"format_underlined"}),(0,i.jsx)(F,{format:"code",icon:"code"}),(0,i.jsx)(q,{format:"heading-one",icon:"looks_one"}),(0,i.jsx)(q,{format:"heading-two",icon:"looks_two"}),(0,i.jsx)(q,{format:"block-quote",icon:"format_quote"}),(0,i.jsx)(q,{format:"left",icon:"format_align_left"}),(0,i.jsx)(q,{format:"center",icon:"format_align_center"}),(0,i.jsx)(q,{format:"right",icon:"format_align_right"}),(0,i.jsx)(q,{format:"justify",icon:"format_align_justify"})]}),(0,i.jsx)(m.CX,{className:"slateditor",renderElement:r,renderLeaf:o,autoFocus:!0})]})},I=function(n){var e=n.responseData,t=(0,s.Z)((0,a.useState)(null),2),r=t[0],l=t[1],u=(0,s.Z)((0,a.useState)(!0),2),m=u[0],f=u[1],g=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.assignmentid}),p=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.submission_status}),x=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.studentsubmitted_content}),h="0"==p?JSON.stringify([{type:"paragraph",children:[{text:""}]}]):x,b=function(){v()},j=function(){f(!1)},v=function(){var n="".concat(M.cfg.wwwroot,"/lib/ajax/service.php?sesskey=").concat(M.cfg.sesskey,"&info=mod_qbassign_save_studentsubmission"),e=[{index:0,methodname:"mod_qbassign_save_studentsubmission",args:{qbassignmentid:parseInt(g),plugindata_text:JSON.stringify(r),plugindata_format:1,plugindata_type:"onlinetext"}}];fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(n){return n.json()}).then(function(n){f(!1),setError(null)}).catch(function(n){f(!1)})};return(0,i.jsxs)(i.Fragment,{children:[!0==m&&(0,i.jsx)("div",{children:null==e?void 0:e.map(function(n,e){return(0,i.jsxs)("div",{className:"assignment-wrapper",children:["onlinetex"==n.data.assignmentdetails.submissiontypes.type&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:n.data.assignmentdetails.assignment_title}),(0,i.jsx)("p",{children:(0,d.ZP)(n.data.assignmentdetails.assignment_activitydesc)}),(0,i.jsx)(P,{onlinetext:h,setOnlineText:l}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},onClick:b,children:"Save changes"}),(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},disabled:!1,onClick:j,children:"Cancel"})]})]}),(0,i.jsx)("br",{})]},e)})}),!1==m&&(0,i.jsx)(nl,{})]})},L=t(7906),z=t(295),J=t(53252),U=t(72882),Y=t(53816),W=t(90629),A=function(n){var e,t,r,l,u,m,f,g=n.responseData,p=n.submissionStatus,x=n.Text,h=n.unixTimestamp,b=function(n,e,t,s,i){return{name:n,calories:e,fat:t,carbs:s,protein:i}},j=(0,s.Z)((0,a.useState)(!1),2),v=j[0],S=j[1],Z=(0,s.Z)((0,a.useState)(!1),2),_=Z[0],y=Z[1],w=(0,s.Z)((0,a.useState)(null),2),k=w[0],N=w[1],C=(0,s.Z)((0,a.useState)(null),2),T=C[0],D=C[1],R=(0,s.Z)((0,a.useState)(null),2),E=R[0],O=R[1],q=(0,s.Z)((0,a.useState)(""),2),F=(q[0],q[1]),P=JSON.parse(x),A="";P.map(function(n){return n.children}).forEach(function(n){return n.map(function(n){A+=n.text})});var G=[b("Submission Status","1"==p.toString()?"submitted":"Not Submitted"),b("Grading Status","pending..."),b("Last Modified",(t=(e=new Date(1e3*h)).getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0"),u=String(e.getHours()).padStart(2,"0"),m=String(e.getMinutes()).padStart(2,"0"),f=String(e.getSeconds()).padStart(2,"0"),"".concat(t,"-").concat(r,"-").concat(l," ").concat(u,":").concat(m,":").concat(f))),b("Online Submission",A)];return(0,a.useEffect)(function(){N(null==g?void 0:g.map(function(n){return n.data.assignmentdetails.assignmentid})),D(null==g?void 0:g.map(function(n){return n.data.assignmentdetails.course_id})),O(null==g?void 0:g.map(function(n){return n.data.assignmentdetails.submission_id}))},[]),(0,i.jsxs)(i.Fragment,{children:[!1==v&&(0,i.jsxs)("div",{className:"assignment-wrapper",children:[null==g?void 0:g.map(function(n,e){return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:n.data.assignmentdetails.assignment_title}),(0,i.jsxs)("p",{className:"edittry",children:[" ",(0,d.ZP)(n.data.assignmentdetails.assignment_activitydesc)]})]},e)}),(0,i.jsx)("div",{children:(0,i.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},onClick:function(){S(!0)},children:"Edit Submission"}),(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},disabled:!1,onClick:function(){var n="".concat(M.cfg.wwwroot,"/lib/ajax/service.php?sesskey=").concat(M.cfg.sesskey,"&info=mod_qbassign_remove_submission"),e=[{index:0,methodname:"mod_qbassign_remove_submission",args:{submissionid:parseInt(E),assignmentid:parseInt(k),courseid:parseInt(T),submissiontype:"text"}}];fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(n){return n.json()}).then(function(n){y(!0),S(null)}).catch(function(n){F("Error occured while removing data")})},children:"Remove Submission"})]})}),(0,i.jsx)(U.Z,{component:W.Z,className:"tablestart",children:(0,i.jsx)(L.Z,{sx:{minWidth:650},"aria-label":"simple table",children:(0,i.jsx)(z.Z,{children:G.map(function(n){return(0,i.jsxs)(Y.Z,{children:[(0,i.jsx)(J.Z,{component:"th",scope:"row",className:"table-align",children:n.name}),(0,i.jsx)(J.Z,{className:"tablecolor table-align",children:n.calories})]},n.name)})})})})]}),!0==v&&(0,i.jsx)(I,{responseData:g}),_&&(0,i.jsx)(nl,{})]})},G=function(n){var e=n.responseData,t=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.submission_status}),s=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.studentsubmitted_content}),a=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.last_submitted_date});return(0,i.jsxs)(i.Fragment,{children:[0==t&&(0,i.jsx)(I,{responseData:e}),1==t&&(0,i.jsx)(A,{responseData:e,submissionStatus:t,unixTimestamp:a,Text:s})]})},H=t(47568),X=t(97582),V=t(87357),B=t(98456),K=function(){return(0,i.jsx)(V.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:(0,i.jsx)(B.Z,{})})};function Q(n){var e,t=n.responseData,r=(0,s.Z)((0,a.useState)(!0),2),l=r[0],u=r[1],m=(0,s.Z)((0,a.useState)(),2),f=m[0],g=m[1],p=(0,s.Z)((0,a.useState)(!1),2),x=p[0],h=p[1],b=null==t?void 0:t.map(function(n){return n.data.assignmentdetails.assignmentid}),j=null==t?void 0:t.map(function(n){return n.data.assignmentdetails.course_id}),v=function(){y()},S=function(){u(!1)},Z=function(n){var e="".concat(M.cfg.wwwroot,"/lib/ajax/service.php?sesskey=").concat(M.cfg.sesskey,"&info=mod_qbassign_save_studentsubmission"),t=[{index:0,methodname:"mod_qbassign_save_studentfilesubmission",args:{assignmentid:parseInt(b),fileareainfo:n,filename:f.name,courseid:parseInt(j)}}];fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(n){return n.json()}).then(function(n){h(!0),u(!1),setError(null)}).catch(function(n){u(!1)})},_=function(n){g(n.target.files[0])},y=(e=(0,H.Z)(function(){return(0,X.__generator)(this,function(n){switch(n.label){case 0:if(!f)return[3,2];return h(!0),[4,new Promise(function(n,e){var t=new FileReader;t.onload=function(e){n(e.target.result.split(",")[1])},t.onerror=function(n){e(n)},t.readAsDataURL(f)})];case 1:Z(n.sent()),n.label=2;case 2:return[2]}})}),function(){return e.apply(this,arguments)});return(0,i.jsxs)(i.Fragment,{children:[!0==l&&(0,i.jsx)("div",{children:null==t?void 0:t.map(function(n,e){return(0,i.jsxs)("div",{className:"assignment-wrapper",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:n.data.assignmentdetails.assignment_title}),(0,i.jsx)("p",{children:(0,d.ZP)(n.data.assignmentdetails.assignment_activitydesc)}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Choose a file to upload"}),(0,i.jsx)("input",{type:"file",onChange:_})]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),!x&&(0,i.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},onClick:v,children:"Upload File"}),(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},disabled:!1,onClick:S,children:"Cancel"})]}),x&&(0,i.jsx)(K,{})]}),(0,i.jsx)("br",{})]},e)})}),!1==l&&(0,i.jsx)(nl,{})]})}var $=function(n){var e,t,r,l,u,m,f,g=n.responseData,p=n.submissionStatus,x=(n.Text,n.unixTimestamp),h=n.DownloadURL,b=n.DownloadFilename,j=function(n,e,t,s,i){return{name:n,calories:e,fat:t,carbs:s,protein:i}},v=(0,s.Z)((0,a.useState)(!1),2),S=v[0],Z=v[1],_=(0,s.Z)((0,a.useState)(!1),2),y=_[0],w=_[1],k=(0,s.Z)((0,a.useState)(null),2),N=k[0],C=k[1],T=(0,s.Z)((0,a.useState)(null),2),D=T[0],R=T[1],E=(0,s.Z)((0,a.useState)(null),2),O=E[0],q=E[1],F=(0,s.Z)((0,a.useState)(""),2),P=(F[0],F[1]),I=[j("Submission Status","1"==p.toString()?"submitted":"Not Submitted"),j("Grading Status","pending..."),j("Last Modified",(t=(e=new Date(1e3*x)).getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0"),u=String(e.getHours()).padStart(2,"0"),m=String(e.getMinutes()).padStart(2,"0"),f=String(e.getSeconds()).padStart(2,"0"),"".concat(t,"-").concat(r,"-").concat(l," ").concat(u,":").concat(m,":").concat(f))),j("Filename",b),j("DownloadURL",(0,i.jsx)("a",{href:h,children:h}))];return(0,a.useEffect)(function(){C(null==g?void 0:g.map(function(n){return n.data.assignmentdetails.assignmentid})),R(null==g?void 0:g.map(function(n){return n.data.assignmentdetails.course_id})),q(null==g?void 0:g.map(function(n){return n.data.assignmentdetails.submission_id}))},[]),(0,i.jsxs)(i.Fragment,{children:[!1==S&&(0,i.jsxs)("div",{className:"assignment-wrapper",children:[null==g?void 0:g.map(function(n,e){return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:n.data.assignmentdetails.assignment_title}),(0,i.jsxs)("p",{className:"edittry",children:[" ",(0,d.ZP)(n.data.assignmentdetails.assignment_activitydesc)]})]},e)}),(0,i.jsx)("div",{children:(0,i.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},onClick:function(){Z(!0)},children:"Edit Submission"}),(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},disabled:!1,onClick:function(){var n="".concat(M.cfg.wwwroot,"/lib/ajax/service.php?sesskey=").concat(M.cfg.sesskey,"&info=mod_qbassign_remove_submission"),e=[{index:0,methodname:"mod_qbassign_remove_submission",args:{submissionid:parseInt(O),assignmentid:parseInt(N),courseid:parseInt(D),submissiontype:"file"}}];fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(n){return n.json()}).then(function(n){w(!0),Z(null)}).catch(function(n){P("Error occured while removing data")})},children:"Remove Submission"})]})}),(0,i.jsx)(U.Z,{component:W.Z,className:"tablestart",children:(0,i.jsx)(L.Z,{sx:{minWidth:650},"aria-label":"simple table",children:(0,i.jsx)(z.Z,{children:I.map(function(n){return(0,i.jsxs)(Y.Z,{children:[(0,i.jsx)(J.Z,{component:"th",scope:"row",className:"table-align",children:n.name}),(0,i.jsx)(J.Z,{className:"tablecolor table-align",children:n.calories})]},n.name)})})})})]}),!0==S&&(0,i.jsx)(Q,{responseData:g}),y&&(0,i.jsx)(nl,{})]})},nn=function(n){var e=n.responseData,t=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.submission_status}),s=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.studentsubmitted_content}),a=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.last_submitted_date}),r=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.studentsubmitted_fileurl}),o=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.studentsubmitted_filename});return(0,i.jsxs)(i.Fragment,{children:[0==t&&(0,i.jsx)(Q,{responseData:e}),1==t&&(0,i.jsx)($,{responseData:e,submissionStatus:t,unixTimestamp:a,Text:s,DownloadURL:r,DownloadFilename:o})]})},ne=t(5152),nt=t.n(ne),ns=t(88078),ni=t(34699),na=nt()(function(){return Promise.all([t.e(281),t.e(952),t.e(824),t.e(283),t.e(489)]).then(t.bind(t,83489))},{loadableGenerated:{webpack:function(){return[83489]}},ssr:!1,loading:function(){return(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(ns.Z,{animation:"wave"}),(0,i.jsx)(ns.Z,{animation:"wave"}),(0,i.jsx)(ns.Z,{animation:"wave"}),(0,i.jsx)(ns.Z,{animation:"wave"})]})}}),nr=function(n){var e=n.assignmentlanguage,t=n.programcontent,r=n.setprogramcontent,o=(0,s.Z)((0,a.useState)(!1),2),c=o[0],d=o[1],l=(0,s.Z)((0,a.useState)(!1),2),u=l[0],m=l[1],f=(0,s.Z)((0,a.useState)(!0),2),g=f[0],p=f[1],x=e+"-"+(0,ni.D)(),h=(0,s.Z)((0,a.useState)(x),1)[0];return(0,i.jsx)("div",{id:"content",className:"content",children:(0,i.jsx)("main",{children:(0,i.jsx)("div",{className:"standalone-container",children:(0,i.jsx)(na,{dataChage:function(n){r(n),"python"==e?d(!0):d(!1)},value:t,language:e,visualization:c,gutter:!0,className:"standalone-editor",pytutorReset:u,setpytutorReset:m,consoleReset:g,setConsoleReset:p,theme:!0,uniqID:h})})})})},no=function(n){var e=n.responseData,t=(0,s.Z)((0,a.useState)(!0),2),r=t[0],l=t[1],u=(0,s.Z)((0,a.useState)(),2),m=u[0],f=u[1],g=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.assignmentid}),p=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.submissiontypes.language});(0,a.useEffect)(function(){f((null==e?void 0:e.map(function(n){return n.data.assignmentdetails.studentsubmitted_content})).toString())},[]);var x=function(){b()},h=function(){l(!1)},b=function(){var n="".concat(M.cfg.wwwroot,"/lib/ajax/service.php?sesskey=").concat(M.cfg.sesskey,"&info=mod_qbassign_save_studentsubmission"),e=[{index:0,methodname:"mod_qbassign_save_studentsubmission",args:{qbassignmentid:parseInt(g),plugindata_text:m,plugindata_format:1,plugindata_type:"codeblock"}}];fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(n){return n.json()}).then(function(n){l(!1),v(null)}).catch(function(n){l(!1)})},j=(0,s.Z)((0,a.useState)(null),2),v=(j[0],j[1]);return(0,i.jsxs)(i.Fragment,{children:[!0==r&&(0,i.jsx)("div",{children:null==e?void 0:e.map(function(n,e){return(0,i.jsxs)("div",{className:"assignment-wrapper",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:n.data.assignmentdetails.assignment_title}),(0,i.jsx)("p",{children:(0,d.ZP)(n.data.assignmentdetails.assignment_activitydesc)}),(0,i.jsx)(nr,{assignmentlanguage:p.toString(),programcontent:m,setprogramcontent:f}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},onClick:x,children:"Save changes"}),(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},disabled:!1,onClick:h,children:"Cancel"})]})]}),(0,i.jsx)("br",{})]},e)})}),!1==r&&(0,i.jsx)(nl,{})]})},nc=function(n){var e,t,r,l,u,m,f,g=n.responseData,p=n.submissionStatus,x=n.Text,h=n.unixTimestamp,b=function(n,e,t,s,i){return{name:n,calories:e,fat:t,carbs:s,protein:i}},j=(0,s.Z)((0,a.useState)(!1),2),v=j[0],S=j[1],Z=(0,s.Z)((0,a.useState)(!1),2),_=Z[0],y=Z[1],w=(0,s.Z)((0,a.useState)(null),2),k=w[0],N=w[1],C=(0,s.Z)((0,a.useState)(null),2),T=C[0],D=C[1],R=(0,s.Z)((0,a.useState)(null),2),E=R[0],O=R[1],q=(0,s.Z)((0,a.useState)(""),2),F=(q[0],q[1]),P=[b("Submission Status","1"==p.toString()?"submitted":"Not Submitted"),b("Grading Status","pending..."),b("Last Modified",(t=(e=new Date(1e3*h)).getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0"),u=String(e.getHours()).padStart(2,"0"),m=String(e.getMinutes()).padStart(2,"0"),f=String(e.getSeconds()).padStart(2,"0"),"".concat(t,"-").concat(r,"-").concat(l," ").concat(u,":").concat(m,":").concat(f))),b("Online Submission",x)];return(0,a.useEffect)(function(){N(null==g?void 0:g.map(function(n){return n.data.assignmentdetails.assignmentid})),D(null==g?void 0:g.map(function(n){return n.data.assignmentdetails.course_id})),O(null==g?void 0:g.map(function(n){return n.data.assignmentdetails.submission_id}))},[]),(0,i.jsxs)(i.Fragment,{children:[!1==v&&(0,i.jsxs)("div",{className:"assignment-wrapper",children:[null==g?void 0:g.map(function(n,e){return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:n.data.assignmentdetails.assignment_title}),(0,i.jsxs)("p",{className:"edittry",children:[" ",(0,d.ZP)(n.data.assignmentdetails.assignment_activitydesc)]})]},e)}),(0,i.jsx)("div",{children:(0,i.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},onClick:function(){S(!0)},children:"Edit Submission"}),(0,i.jsx)(o.Z,{variant:"contained",style:{backgroundColor:"#116cbf",textTransform:"none",fontSize:"14px",borderRadius:"0.5rem"},disabled:!1,onClick:function(){var n="".concat(M.cfg.wwwroot,"/lib/ajax/service.php?sesskey=").concat(M.cfg.sesskey,"&info=mod_qbassign_remove_submission"),e=[{index:0,methodname:"mod_qbassign_remove_submission",args:{submissionid:parseInt(E),assignmentid:parseInt(k),courseid:parseInt(T),submissiontype:"codeblock"}}];fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(n){return n.json()}).then(function(n){y(!0),S(null)}).catch(function(n){F("Error occured while removing data")})},children:"Remove Submission"})]})}),(0,i.jsx)(U.Z,{component:W.Z,className:"tablestart",children:(0,i.jsx)(L.Z,{sx:{minWidth:650},"aria-label":"simple table",children:(0,i.jsx)(z.Z,{children:P.map(function(n){return(0,i.jsxs)(Y.Z,{children:[(0,i.jsx)(J.Z,{component:"th",scope:"row",className:"table-align",children:n.name}),(0,i.jsx)(J.Z,{className:"tablecolor table-align",children:n.calories})]},n.name)})})})})]}),!0==v&&(0,i.jsx)(no,{responseData:g}),_&&(0,i.jsx)(nl,{})]})},nd=function(n){var e=n.responseData,t=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.submission_status}),s=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.studentsubmitted_content}),a=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.last_submitted_date});return(0,i.jsxs)(i.Fragment,{children:[0==t&&(0,i.jsx)(no,{responseData:e}),1==t&&(0,i.jsx)(nc,{responseData:e,submissionStatus:t,unixTimestamp:a,Text:s})]})},nl=function(){var n=(0,s.Z)((0,a.useState)(null),2),e=n[0],t=n[1],o=(0,s.Z)((0,a.useState)(!1),2),c=(o[0],o[1]),d=(0,r.useRouter)().query.ufield;(0,a.useEffect)(function(){l()},[d]);var l=function(){var n="".concat(M.cfg.wwwroot,"/lib/ajax/service.php?sesskey=").concat(M.cfg.sesskey,"&info=mod_qbassign_get_assignment_service");fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([{index:0,methodname:"mod_qbassign_get_assignment_service",args:{uniquefield:d}}])}).then(function(n){return n.json()}).then(function(n){t(n)}).catch(function(n){t(null),c(!0)})},u=null==e?void 0:e.map(function(n){return n.data.assignmentdetails.submissiontypes.type});return(0,i.jsxs)(i.Fragment,{children:["onlinetex"==u&&(0,i.jsx)("div",{children:(0,i.jsx)(G,{responseData:e})}),"file"==u&&(0,i.jsx)("div",{children:(0,i.jsx)(nn,{responseData:e})}),"codeblock"==u&&(0,i.jsx)("div",{children:(0,i.jsx)(nd,{responseData:e})})]})}}},function(n){n.O(0,[774,272,700,110,890,294,36,888,179],function(){return n(n.s=24511)}),_N_E=n.O()}]);